{"version":3,"sources":["components/MapControls.js","components/Markers.js","components/CountryInformation.js","services/MapService.js","components/Map.js","App.js","index.js"],"names":["MapControls","style","position","top","left","margin","positionOptions","enableHighAccuracy","timeout","trackUserLocation","fitBoundsOptions","maxZoom","padding","bottom","Markers","data","onClick","console","log","map","country","idx","key","latitude","latlng","longitude","offsetTop","offsetLeft","src","height","width","alt","countryTerritoryArea","cursor","CountryInformation","onClose","anchor","className","confirmedCases","deaths","listMapData","a","fetch","response","status","json","Error","statusText","Map","useState","mapData","setMapData","zoom","viewport","setViewport","selectedCountryRegion","setSelectedCountryRegion","useEffect","localStorage","setItem","JSON","stringify","parse","getItem","mapStyle","onViewportChange","mapboxApiAccessToken","App","ReactDOM","render","document","getElementById"],"mappings":"4OAkDeA,EA5CK,WAiBlB,OAEE,oCACE,yBAAKC,MAnBqB,CAC5BC,SAAU,WAAYC,IAAK,EAAGC,KAAM,EAAGC,OAAQ,KAmB3C,kBAAC,IAAD,CACEC,gBAAiB,CAAEC,oBAAoB,EAAMC,QAAS,KACtDC,mBAAiB,EACjBC,iBAAkB,CAAEC,QAAS,OAIjC,yBAAKV,MAvBsB,CAC7BC,SAAU,WAAYC,IAAK,GAAIC,KAAM,EAAGQ,QAAS,SAuB7C,kBAAC,IAAD,OAGF,yBAAKX,MAvBsB,CAC7BC,SAAU,WAAYC,IAAK,GAAIC,KAAM,EAAGQ,QAAS,SAuB7C,kBAAC,IAAD,OAGF,yBAAKX,MAvBiB,CACxBC,SAAU,WAAYW,OAAQ,GAAIT,KAAM,EAAGQ,QAAS,SAuBhD,kBAAC,IAAD,SCpBOE,EAnBC,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,QAEtB,OADAC,QAAQC,IAAIH,GAEVA,EAAKI,KAAI,SAACC,EAASC,GAAV,OACP,kBAAC,IAAD,CAAQC,IAAKD,EAAKE,SAAUH,EAAQI,OAAO,GAAIC,UAAWL,EAAQI,OAAO,GAAIE,WAAY,GAAIC,YAAa,IACxG,yBACEC,IAAI,UACJC,OAAO,KACPC,MAAM,KACNC,IAAKX,EAAQY,qBACb/B,MAAO,CAAEgC,OAAQ,WACjBjB,QAAS,WAAQA,EAAQI,WCuBpBc,EAlCY,SAAC,GAAwB,IAAvBd,EAAsB,EAAtBA,QAASJ,EAAa,EAAbA,QAEpC,OAEEI,EACE,kBAAC,IAAD,CACEG,SAAUH,EAAQI,OAAO,GACzBC,UAAWL,EAAQI,OAAO,GAC1BW,QAASnB,EACToB,OAAO,SACPT,WAAY,EACZD,WAAY,GACZ,6BACE,4BACGN,EAAQY,sBAEX,2BAAOK,UAAU,6BACf,+BACE,4BACE,gDACA,4BAAKjB,EAAQkB,iBAEf,4BACE,uCACA,4BAAKlB,EAAQmB,aAMrB,MCxBOC,EAVE,uCAAG,4BAAAC,EAAA,sEACKC,MAAM,qDADX,aACZC,EADY,QAGLC,QAAU,KAAOD,EAASC,OAAS,KAH9B,yCAITD,EAASE,QAJA,aAOZ,IAAIC,MAAMH,EAASI,YAPP,2CAAH,qDC4DFC,EAlDH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAGgBF,mBAAS,CACvCG,KAAM,MAJQ,mBAGTC,EAHS,KAGCC,EAHD,OAO0CL,mBAAS,MAPnD,mBAOTM,EAPS,KAOcC,EAPd,KA6BhB,OAZAC,qBAAU,WACR,sBAAC,4BAAAhB,EAAA,+EAEsBD,IAFtB,OAESzB,EAFT,OAGGoC,EAAWpC,GACX2C,aAAaC,QAAQ,UAAWC,KAAKC,UAAU9C,IAJlD,gDAMGoC,EAAWS,KAAKE,MAAMJ,aAAaK,QAAQ,aAN9C,wDAAD,KASC,IAGD,kBAAC,IAAD,iBACMV,EADN,CAEEvB,MAAM,QACND,OAAO,QACPmC,SAAS,iCACTrD,QAAS,GACTsD,iBAAkBX,EAClBY,qBAAqB,mGAGrB,kBAAC,EAAD,MAEA,kBAAC,EAAD,CAASnD,KAAMmC,EAASlC,QAjCV,SAACI,GACjBoC,EAAyBpC,MAkCvB,kBAAC,EAAD,CAAoBA,QAASmC,EAAuBvC,QA/BrC,WACjBwC,EAAyB,WCXdW,G,MAPH,WAEV,OACE,kBAAC,EAAD,QCJJC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.06f1ff01.chunk.js","sourcesContent":["import React from 'react';\n\nimport {\n  GeolocateControl, NavigationControl, FullscreenControl, ScaleControl,\n} from 'react-map-gl';\n\nconst MapControls = () => {\n  const geolocateControlStyle = {\n    position: 'absolute', top: 0, left: 0, margin: 10,\n  };\n\n  const fullscreenControlStyle = {\n    position: 'absolute', top: 36, left: 0, padding: '10px',\n  };\n\n  const navicationControlStype = {\n    position: 'absolute', top: 72, left: 0, padding: '10px',\n  };\n\n  const scaleControlStyle = {\n    position: 'absolute', bottom: 72, left: 0, padding: '10px',\n  };\n\n  return (\n\n    <>\n      <div style={geolocateControlStyle}>\n        <GeolocateControl\n          positionOptions={{ enableHighAccuracy: true, timeout: 30000 }}\n          trackUserLocation\n          fitBoundsOptions={{ maxZoom: 10 }}\n        />\n      </div>\n\n      <div style={fullscreenControlStyle}>\n        <FullscreenControl />\n      </div>\n\n      <div style={navicationControlStype}>\n        <NavigationControl />\n      </div>\n\n      <div style={scaleControlStyle}>\n        <ScaleControl />\n      </div>\n    </>\n\n  );\n};\n\nexport default MapControls;\n","import React from 'react';\n\nimport { Marker } from 'react-map-gl';\n\nconst Markers = ({data, onClick}) => {\n  console.log(data);\n  return (\n    data.map((country, idx) => (\n      <Marker key={idx} latitude={country.latlng[0]} longitude={country.latlng[1]} offsetTop={-20} offsetLeft={-10}>\n        <img\n          src=\"pin.png\"\n          height=\"20\"\n          width=\"14\"\n          alt={country.countryTerritoryArea}\n          style={{ cursor: 'pointer' }}\n          onClick={() => { onClick(country); }}\n        />\n      </Marker>\n    ))\n\n  );\n};\n\nexport default Markers;\n","import React from 'react';\n\nimport { Popup } from 'react-map-gl';\n\nconst CountryInformation = ({country, onClick}) => {\n\n  return (\n\n    country ? (\n      <Popup\n        latitude={country.latlng[0]}\n        longitude={country.latlng[1]}\n        onClose={onClick}\n        anchor=\"bottom\"\n        offsetLeft={8}\n        offsetTop={-8}>\n        <div>\n          <h2>\n            {country.countryTerritoryArea}\n          </h2>\n          <table className=\"country-region-statistics\">\n            <tbody>\n              <tr>\n                <th>Confirmed cases:</th>\n                <td>{country.confirmedCases}</td>\n              </tr>\n              <tr>\n                <th>Deaths:</th>\n                <td>{country.deaths}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </Popup>\n    ) : null\n  );\n};\n\nexport default CountryInformation;\n","const listMapData = async () => {\n  const response = await fetch('https://secret-beach-58222.herokuapp.com/map-data');\n\n  if (response.status >= 200 && response.status < 300) {\n    return response.json();\n  }\n\n  throw new Error(response.statusText);\n};\n\nexport default listMapData;\n","import React, { useState, useEffect } from 'react';\n\nimport ReactMapGL from 'react-map-gl';\n\nimport MapControls from './MapControls';\nimport Markers from './Markers';\nimport CountryInformation from './CountryInformation';\n\nimport listMapData from '../services/MapService';\n\nconst Map = () => {\n  const [mapData, setMapData] = useState([]);\n\n  const [viewport, setViewport] = useState({\n    zoom: 1.9,\n  });\n\n  const [selectedCountryRegion, setSelectedCountryRegion] = useState(null);\n\n  const openPopup = (country) => {\n    setSelectedCountryRegion(country);\n  };\n\n  const closePopup = () => {\n    setSelectedCountryRegion(null);\n  };\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const data = await listMapData();\n        setMapData(data);\n        localStorage.setItem('mapData', JSON.stringify(data));\n      } catch (error) {\n        setMapData(JSON.parse(localStorage.getItem('mapData')));\n      }\n    })();\n  }, []);\n\n  return (\n    <ReactMapGL\n      {...viewport}\n      width=\"100vw\"\n      height=\"100vh\"\n      mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n      maxZoom={10}\n      onViewportChange={setViewport}\n      mapboxApiAccessToken=\"pk.eyJ1Ijoicm9zaGFua3VuMDkiLCJhIjoiY2s3b203YTR5MDhqdzNlcHBrbG5qMjhmciJ9.H_ZpfzDQrCRYIs_rmX73eg\"\n    >\n\n      <MapControls />\n\n      <Markers data={mapData} onClick={openPopup} />\n\n      <CountryInformation country={selectedCountryRegion} onClick={closePopup} />\n\n    </ReactMapGL>\n  );\n};\n\nexport default Map;\n","import React from 'react';\n\nimport Map from './components/Map';\n\nimport './App.css';\n\nconst App = () => {\n\n  return (\n    <Map />\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}